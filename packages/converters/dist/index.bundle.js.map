{"version":3,"sources":["src/BaseDate.js","src/SolarDate.js","src/Astronomy.js","src/Sexagenary/locales.json","src/Sexagenary/Sexagenary.js","src/Sexagenary/SexagenaryDate.js","src/Sexagenary/index.js","src/LunarDate.js","index.js"],"names":["DateComparison","Object","defineProperty","exports","value","BaseDate","_a","day","month","year","prototype","compareDate","After","Before","Equal","isEqualDate","toArray","default","__extends","extendStatics","d","b","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","create","__importDefault","mod","__esModule","Astronomy_1","require","BaseDate_1","LunarDate_1","JULIAN_CALENDAR_EPOCH","SolarDate","_super","apply","arguments","fromJulianDays","julianDays","c","a","Math","floor","e","m","toJulianDays","y","cached","toLunarDate","timeZone","astronomy","newMoon","monthStart","getNewMoonDay","a11","getLunarMonth11","b11","diff","isLeapMonth","leapMonthDiff","getLeapMonthOffset","toSexagenaryDate","lunarDate","SolarDate_1","Astronomy","order","T","T2","T3","radian","PI","sin","M","Mpr","F","C","delta","getSunLongitude","dayNumber","L1","L","solarDate","off","newMoonDay","sunLong","lunarMonth11","last","counter","arc","module","delimiter","stems","branches","ko","vi","zh","Stem","Branch","Locales","locales_json_1","absModulo","dividend","divisor","modulo","abs","Sexagenary","stem","branch","add","toString","locale","Default","_b","_c","_d","join","Sexagenary_1","SexagenaryDate","startHour","toStringsObject","SexagenaryDate_1","LunarDate","_this","call","toSolarDate","offset","newMoonOrder","leapOffset","leapMonth"],"mappings":";AAAA,aAEA,IAAIA,EADJC,OAAOC,eAAeC,QAAS,aAAc,CAAEC,OAAO,IAEtD,SAAWJ,GACPA,EAAeA,EAAc,QAAc,GAAK,SAChDA,EAAeA,EAAc,MAAY,GAAK,QAC9CA,EAAeA,EAAc,MAAY,GAAK,QAHlD,CAIGA,EAAiBG,QAAQH,iBAAmBG,QAAQH,eAAiB,KACxE,IAAIK,EAA0B,WACjBA,SAAAA,EAASC,GACVC,IAAAA,EAAMD,EAAGC,IAAKC,EAAQF,EAAGE,MAAOC,EAAOH,EAAGG,KACzCF,KAAAA,IAAMA,EACNC,KAAAA,MAAQA,EACRC,KAAAA,KAAOA,EA4BTJ,OA1BPA,EAASK,UAAUC,YAAc,SAAUL,GACnCC,IAAAA,EAAMD,EAAGC,IAAKC,EAAQF,EAAGE,MAAOC,EAAOH,EAAGG,KAC1C,OAAA,KAAKA,KAAOA,EACLT,EAAeY,MACtB,KAAKH,KAAOA,EACLT,EAAea,OAEtB,KAAKL,MAAQA,EACNR,EAAeY,MACtB,KAAKJ,MAAQA,EACNR,EAAea,OAEtB,KAAKN,IAAMA,EACJP,EAAeY,MACtB,KAAKL,IAAMA,EACJP,EAAea,OAEnBb,EAAec,OAE1BT,EAASK,UAAUK,YAAc,SAAUT,GACnCC,IAAAA,EAAMD,EAAGC,IAAKC,EAAQF,EAAGE,MAAOC,EAAOH,EAAGG,KACvC,OAAA,KAAKE,YAAY,CAAEJ,IAAKA,EAAKC,MAAOA,EAAOC,KAAMA,MAAYT,EAAec,OAEvFT,EAASK,UAAUM,QAAU,WAClB,MAAA,CAAC,KAAKT,IAAK,KAAKC,MAAO,KAAKC,OAEhCJ,EAjCmB,GAmC9BF,QAAQc,QAAUZ;;AC3ClB,aACA,IAAIa,EAAa,MAAQ,KAAKA,WAAe,WACrCC,IAAAA,EAAgB,SAAUC,EAAGC,GAItBF,OAHPA,EAAgBlB,OAAOqB,gBAClB,CAAEC,UAAW,cAAgBC,OAAS,SAAUJ,EAAGC,GAAKD,EAAEG,UAAYF,IACvE,SAAUD,EAAGC,GAAU,IAAA,IAAII,KAAKJ,EAAOA,EAAEK,eAAeD,KAAIL,EAAEK,GAAKJ,EAAEI,MACpDL,EAAGC,IAErB,OAAA,SAAUD,EAAGC,GAEPM,SAAAA,IAAYC,KAAAA,YAAcR,EADnCD,EAAcC,EAAGC,GAEjBD,EAAEV,UAAkB,OAANW,EAAapB,OAAO4B,OAAOR,IAAMM,EAAGjB,UAAYW,EAAEX,UAAW,IAAIiB,IAV1C,GAazCG,EAAmB,MAAQ,KAAKA,iBAAoB,SAAUC,GACtDA,OAAAA,GAAOA,EAAIC,WAAcD,EAAM,CAAaA,QAAAA,IAExD9B,OAAOC,eAAeC,QAAS,aAAc,CAAEC,OAAO,IACtD,IAAI6B,EAAcH,EAAgBI,QAAQ,gBACtCC,EAAaL,EAAgBI,QAAQ,eACrCE,EAAcN,EAAgBI,QAAQ,gBACtCG,EAAwB,QACxBC,EAA2B,SAAUC,GAE5BD,SAAAA,IACEC,OAAW,OAAXA,GAAmBA,EAAOC,MAAM,KAAMC,YAAc,KAqFxDH,OAvFPpB,EAAUoB,EAAWC,GAQrBD,EAAUI,eAAiB,SAAUC,GAC7BtB,IAAAA,EAAI,EACJuB,EAAI,EACJD,GAAAA,EAAaN,EAAuB,CAEhCQ,IAAAA,EAAIF,EAAa,MACrBtB,EAAIyB,KAAKC,OAAO,EAAIF,EAAI,GAAK,QAC7BD,EAAIC,EAAIC,KAAKC,MAAW,OAAJ1B,EAAc,QAIlCuB,EAAID,EAAa,MAEjBvB,IAAAA,EAAI0B,KAAKC,OAAO,EAAIH,EAAI,GAAK,MAC7BI,EAAIJ,EAAIE,KAAKC,MAAO,KAAO3B,EAAK,GAChC6B,EAAIH,KAAKC,OAAO,EAAIC,EAAI,GAAK,KAI1B,OAAA,IAAIV,EAAU,CAAE/B,IAHbyC,EAAIF,KAAKC,OAAO,IAAME,EAAI,GAAK,GAAK,EAGbzC,MAFrByC,EAAI,EAAI,GAAKH,KAAKC,MAAME,EAAI,IAEOxC,KADhC,IAAJY,EAAUD,EAAI,KAAO0B,KAAKC,MAAME,EAAI,OAQnDX,EAAU5B,UAAUwC,aAAe,WAC3BL,IAAAA,EAAIC,KAAKC,OAAO,GAAK,KAAKvC,OAAS,IACnC2C,EAAI,KAAK1C,KAAO,KAAOoC,EACvBI,EAAI,KAAKzC,MAAQ,GAAKqC,EAAI,EAC1BO,EAAS,KAAK7C,IAAMuC,KAAKC,OAAO,IAAME,EAAI,GAAK,GAAK,IAAME,EAAIL,KAAKC,MAAMI,EAAI,GAC7ER,EAAaS,EAASN,KAAKC,MAAMI,EAAI,KAAOL,KAAKC,MAAMI,EAAI,KAAO,MAElER,OAAAA,EAAaN,EACNM,EAEJS,EAAS,OAEpBd,EAAU5B,UAAU2C,YAAc,SAAU/C,GACpCgD,IAAAA,EAAWhD,EAAGgD,SACdX,EAAa,KAAKO,eAClBK,EAAY,IAAItB,EAAYhB,QAAQ,CAAEqC,SAAUA,IAChDE,EAAUV,KAAKC,OAAOJ,EAAa,mBAAqB,cACxDc,EAAaF,EAAUG,cAAcF,EAAU,GAC/CC,EAAad,IACbc,EAAaF,EAAUG,cAAcF,IACrCG,IAAAA,EAAMJ,EAAUK,gBAAgB,KAAKnD,MACrCoD,EAAMF,EACNlD,EAAO,KAAKA,KACZkD,GAAOF,EACPE,EAAMJ,EAAUK,gBAAgB,KAAKnD,KAAO,IAG5CA,EAAO,KAAKA,KAAO,EACnBoD,EAAMN,EAAUK,gBAAgB,KAAKnD,KAAO,IAE5CF,IAAAA,EAAMoC,EAAac,EAAa,EAChCK,EAAOhB,KAAKC,OAAOU,EAAaE,GAAO,IACvCI,GAAc,EACdvD,EAAQsD,EAAO,GACfD,GAAAA,EAAMF,EAAM,IAAK,CACbK,IAAAA,EAAgBT,EAAUU,mBAAmBN,GAC7CG,GAAQE,IACRxD,EAAQsD,EAAO,GACXA,GAAQE,IACRD,GAAc,IAOnB,OAJHvD,EAAQ,KACRA,GAAgB,IAChBA,GAAS,IAAMsD,EAAO,IACtBrD,GAAQ,GACL,IAAI2B,EAAYnB,QAAQ,CAAEV,IAAKA,EAAKC,MAAOA,EAAOC,KAAMA,EAAMsD,YAAaA,KAEtFzB,EAAU5B,UAAUwD,iBAAmB,SAAU5D,GACzCgD,IAAAA,EAAWhD,EAAGgD,SAEXa,OADS,KAAKd,YAAY,CAAEC,SAAUA,IAC5BY,iBAAiB,CAAEZ,SAAUA,KAE3ChB,EAxFoB,CAyF7BH,EAAWlB,SACbd,QAAQc,QAAUqB;;AChHlB,aACA,IAAIR,EAAmB,MAAQ,KAAKA,iBAAoB,SAAUC,GACtDA,OAAAA,GAAOA,EAAIC,WAAcD,EAAM,CAAaA,QAAAA,IAExD9B,OAAOC,eAAeC,QAAS,aAAc,CAAEC,OAAO,IACtD,IAAIgE,EAActC,EAAgBI,QAAQ,gBACtCmC,EAA2B,WAClBA,SAAAA,EAAU/D,GACXgD,IAAAA,EAAWhD,EAAGgD,SACbA,KAAAA,SAAWA,EA8Fbe,OAxFPA,EAAU3D,UAAUgD,cAAgB,SAAUY,GACtCC,IAAAA,EAAID,EAAQ,QACZE,EAAKD,EAAIA,EACTE,EAAKD,EAAKD,EACVG,EAAS5B,KAAK6B,GAAK,IAEnBhC,EAAa,cACb,YAAc2B,EACd,QAAYE,EACZ,QAAcC,EACd,MAAU3B,KAAK8B,KAAK,OAAS,OAASL,EAAI,QAAWC,GAAME,GAE3DG,EAAI,SAAW,YAAcP,EAAQ,OAAYE,EAAK,OAAaC,EAEnEK,EAAM,SAAW,aAAeR,EAAQ,SAAYE,EAAK,QAAaC,EAEtEM,EAAI,QAAU,aAAeT,EAAQ,SAAYE,EAAK,OAAaC,EACnEO,GAAK,MAAS,OAAWT,GAAKzB,KAAK8B,IAAIF,EAASG,GAChD,MAAS/B,KAAK8B,IAAa,EAATF,EAAaG,GAC/B,MAAS/B,KAAK8B,IAAIF,EAASI,GAC3B,MAAShC,KAAK8B,IAAa,EAATF,EAAaI,GAC/B,KAAShC,KAAK8B,IAAa,EAATF,EAAaI,GAC/B,MAAShC,KAAK8B,IAAa,EAATF,EAAaK,GAC/B,MAASjC,KAAK8B,IAAIF,GAAUG,EAAIC,IAChC,MAAShC,KAAK8B,IAAIF,GAAUG,EAAIC,IAChC,KAAShC,KAAK8B,IAAIF,GAAU,EAAIK,EAAIF,IACpC,KAAS/B,KAAK8B,IAAIF,GAAU,EAAIK,EAAIF,IACpC,KAAS/B,KAAK8B,IAAIF,GAAU,EAAIK,EAAID,IACpC,KAAQhC,KAAK8B,IAAIF,GAAU,EAAIK,EAAID,IACnC,KAAShC,KAAK8B,IAAIF,GAAU,EAAII,EAAMD,IACtCI,EAAQV,GAAK,GACX,KAAQ,OAAWA,EAAI,QAAYC,EAAK,OAAaC,EAAK,OAAcF,EAAIE,EAChE,OAAWF,EAAtB,OAA0B,OAAWC,EACrC1B,OAAAA,KAAKC,MAAMJ,EAAaqC,EAAIC,EAAQ,GAAM,KAAK3B,SAAW,KAQrEe,EAAU3D,UAAUwE,gBAAkB,SAAUC,GAExCZ,IAAAA,GAAKY,EAAY,GAAM,KAAK7B,SAAW,GAAK,SAAa,MACzDkB,EAAKD,EAAIA,EACTG,EAAS5B,KAAK6B,GAAK,IAEnBE,EAAI,SAAW,WAAaN,EAAI,QAAYC,EAAK,OAAaD,EAAIC,EAOlEY,GALK,UAAY,YAAcb,EAAI,QAAYC,IACzC,OAAS,QAAWD,EAAI,MAAWC,GAAM1B,KAAK8B,IAAIF,EAASG,IAChE,QAAW,OAAWN,GAAKzB,KAAK8B,IAAa,EAATF,EAAaG,GAClD,MAAU/B,KAAK8B,IAAa,EAATF,EAAaG,KAEfH,EAEjBW,EAAID,EAAe,EAAVtC,KAAK6B,GAAS7B,KAAKC,MAAMqC,GAAgB,EAAVtC,KAAK6B,KAC1C7B,OAAAA,KAAKC,MAAOsC,EAAIvC,KAAK6B,GAAM,IAKtCN,EAAU3D,UAAUkD,gBAAkB,SAAUnD,GACxC6E,IACAC,EADY,IAAInB,EAAYnD,QAAQ,CAAEV,IAAK,GAAIC,MAAO,GAAIC,KAAMA,IAChDyC,eAAiB,kBACjCoB,EAAQxB,KAAKC,MAAMwC,EAAM,cACzBC,EAAa,KAAK9B,cAAcY,GAEhCmB,OADU,KAAKP,gBAAgBM,IACpB,EACJ,KAAK9B,cAAcY,EAAQ,GAC/BkB,GAKXnB,EAAU3D,UAAUuD,mBAAqB,SAAUyB,GAC3CpB,IAAAA,EAAQxB,KAAKC,OAAO2C,EAAe,mBAAqB,aAAe,IAEvEC,EAAO,EACPC,EAAU,EACVC,EAAM,EACP,GACCF,EAAOE,EACPD,GAAW,EACXC,EAAM,KAAKX,gBAAgB,KAAKxB,cAAcY,EAAQsB,UACjDC,GAAOF,GAAQC,EAAU,IAC3BA,OAAAA,EAAU,GAEdvB,EAjGoB,GAmG/BlE,QAAQc,QAAUoD;;ACzGlByB,OAAO3F,QAAQ,CAACc,QAAQ,CAAC8E,UAAU,IAAIC,MAAM,CAAC,MAAM,KAAK,OAAO,OAAO,KAAK,KAAK,OAAO,MAAM,MAAM,OAAOC,SAAS,CAAC,MAAM,KAAK,QAAQ,SAAS,SAAS,QAAQ,QAAQ,OAAO,SAAS,UAAU,MAAM,QAAQC,GAAG,CAACH,UAAU,GAAGC,MAAM,CAAC,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,KAAKC,SAAS,CAAC,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,MAAME,GAAG,CAACJ,UAAU,IAAIC,MAAM,CAAC,OAAO,KAAK,OAAO,OAAO,MAAM,KAAK,OAAO,MAAM,OAAO,OAAOC,SAAS,CAAC,KAAK,MAAM,MAAM,MAAM,OAAO,KAAK,MAAM,MAAM,OAAO,MAAM,OAAO,QAAQG,GAAG,CAACL,UAAU,GAAGC,MAAM,CAAC,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,KAAKC,SAAS,CAAC,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI;;ACApnB,aACA,IAAInE,EAAmB,MAAQ,KAAKA,iBAAoB,SAAUC,GACtDA,OAAAA,GAAOA,EAAIC,WAAcD,EAAM,CAAaA,QAAAA,IAExD9B,OAAOC,eAAeC,QAAS,aAAc,CAAEC,OAAO,IACtD,IACIiG,EAaAC,EAeAC,EA7BAC,EAAiB1E,EAAgBI,QAAQ,oBAE7C,SAAWmE,GACPA,EAAKA,EAAI,IAAU,GAAK,MACxBA,EAAKA,EAAI,GAAS,GAAK,KACvBA,EAAKA,EAAI,KAAW,GAAK,OACzBA,EAAKA,EAAI,KAAW,GAAK,OACzBA,EAAKA,EAAI,GAAS,GAAK,KACvBA,EAAKA,EAAI,GAAS,GAAK,KACvBA,EAAKA,EAAI,KAAW,GAAK,OACzBA,EAAKA,EAAI,IAAU,GAAK,MACxBA,EAAKA,EAAI,IAAU,GAAK,MACxBA,EAAKA,EAAI,IAAU,GAAK,MAV5B,CAWGA,EAAOlG,QAAQkG,OAASlG,QAAQkG,KAAO,KAE1C,SAAWC,GACPA,EAAOA,EAAM,IAAU,GAAK,MAC5BA,EAAOA,EAAM,GAAS,GAAK,KAC3BA,EAAOA,EAAM,MAAY,GAAK,QAC9BA,EAAOA,EAAM,OAAa,GAAK,SAC/BA,EAAOA,EAAM,OAAa,GAAK,SAC/BA,EAAOA,EAAM,MAAY,GAAK,QAC9BA,EAAOA,EAAM,MAAY,GAAK,QAC9BA,EAAOA,EAAM,KAAW,GAAK,OAC7BA,EAAOA,EAAM,OAAa,GAAK,SAC/BA,EAAOA,EAAM,QAAc,GAAK,UAChCA,EAAOA,EAAM,IAAU,IAAM,MAC7BA,EAAOA,EAAM,IAAU,IAAM,MAZjC,CAaGA,EAASnG,QAAQmG,SAAWnG,QAAQmG,OAAS,KAEhD,SAAWC,GACPA,EAAO,QAAc,UACrBA,EAAO,GAAS,KAChBA,EAAO,GAAS,KAChBA,EAAO,GAAS,KAJpB,CAKGA,EAAUpG,QAAQoG,UAAYpG,QAAQoG,QAAU,KASnD,IAAIE,EAAY,SAAUC,EAAUC,GAC5BC,IAAAA,EAASF,EAAWC,EACpBC,OAAAA,GAAU,EACH9D,KAAK+D,IAAID,GACbA,EAASD,GAEhBG,EAA4B,WACnBA,SAAAA,EAAWxG,GACZyG,IAAAA,EAAOzG,EAAGyG,KAAMC,EAAS1G,EAAG0G,OAC3BD,KAAAA,KAAOA,EACPC,KAAAA,OAASA,EAgBXF,OAdPA,EAAWpG,UAAUuG,IAAM,SAAUnD,GAG1B,OAAA,IAAIgD,EAAW,CAAEC,KAFbN,EAAU,KAAKM,KAAOjD,EAAM,IAEHkD,OADvBP,EAAU,KAAKO,OAASlD,EAAM,OAG/CgD,EAAWpG,UAAUwG,SAAW,SAAUC,QACvB,IAAXA,IAAqBA,EAASZ,EAAQa,SACtC9G,IAAAA,EAAKkG,EAAevF,QAAQkG,IAAW,GAAIE,EAAK/G,EAAGyF,UAAWA,OAAmB,IAAPsB,EAAgB,GAAKA,EAAIC,EAAKhH,EAAG0F,MAAOA,OAAe,IAAPsB,EAAgB,KAAOA,EAAIC,EAAKjH,EAAG2F,SAAUA,OAAkB,IAAPsB,EAAgB,KAAOA,EACzMvB,OAAS,MAATA,GAA6B,MAAZC,EACV,GAGJ,CAFID,EAAM,KAAKe,MACTd,EAAS,KAAKe,SACLQ,KAAKzB,IAExBe,EApBqB,GAsBhC3G,QAAQc,QAAU6F;;AC7ElB,aACA7G,OAAOC,eAAeC,QAAS,aAAc,CAAEC,OAAO,IACtD,IAAIqH,EAAevF,QAAQ,gBACvBwF,EAAgC,WACvBA,SAAAA,EAAepH,GAChBqH,IAAAA,EAAYrH,EAAGqH,UAAWpH,EAAMD,EAAGC,IAAKC,EAAQF,EAAGE,MAAOC,EAAOH,EAAGG,KACnEkH,KAAAA,UAAYA,EACZpH,KAAAA,IAAMA,EACNC,KAAAA,MAAQA,EACRC,KAAAA,KAAOA,EAWTiH,OATPA,EAAehH,UAAUkH,gBAAkB,SAAUT,GAE1C,YADQ,IAAXA,IAAqBA,EAASM,EAAalB,QAAQa,SAChD,CACHO,UAAW,KAAKA,UAAUT,SAASC,GACnC5G,IAAK,KAAKA,IAAI2G,SAASC,GACvB3G,MAAO,KAAKA,MAAM0G,SAASC,GAC3B1G,KAAM,KAAKA,KAAKyG,SAASC,KAG1BO,EAjByB,GAmBpCvH,QAAQc,QAAUyG;;ACtBlB,aACAzH,OAAOC,eAAeC,QAAS,aAAc,CAAEC,OAAO,IACtD,IAAIqH,EAAevF,QAAQ,gBAC3B/B,QAAQ2G,WAAaW,EAAaxG,QAClCd,QAAQoG,QAAUkB,EAAalB,QAC/B,IAAIsB,EAAmB3F,QAAQ,oBAC/B/B,QAAQuH,eAAiBG,EAAiB5G;;ACN1C,aACA,IAAIC,EAAa,MAAQ,KAAKA,WAAe,WACrCC,IAAAA,EAAgB,SAAUC,EAAGC,GAItBF,OAHPA,EAAgBlB,OAAOqB,gBAClB,CAAEC,UAAW,cAAgBC,OAAS,SAAUJ,EAAGC,GAAKD,EAAEG,UAAYF,IACvE,SAAUD,EAAGC,GAAU,IAAA,IAAII,KAAKJ,EAAOA,EAAEK,eAAeD,KAAIL,EAAEK,GAAKJ,EAAEI,MACpDL,EAAGC,IAErB,OAAA,SAAUD,EAAGC,GAEPM,SAAAA,IAAYC,KAAAA,YAAcR,EADnCD,EAAcC,EAAGC,GAEjBD,EAAEV,UAAkB,OAANW,EAAapB,OAAO4B,OAAOR,IAAMM,EAAGjB,UAAYW,EAAEX,UAAW,IAAIiB,IAV1C,GAazCG,EAAmB,MAAQ,KAAKA,iBAAoB,SAAUC,GACtDA,OAAAA,GAAOA,EAAIC,WAAcD,EAAM,CAAaA,QAAAA,IAExD9B,OAAOC,eAAeC,QAAS,aAAc,CAAEC,OAAO,IACtD,IAAI6B,EAAcH,EAAgBI,QAAQ,gBACtCC,EAAaL,EAAgBI,QAAQ,eACrCkC,EAActC,EAAgBI,QAAQ,gBACtCuF,EAAevF,QAAQ,gBACvB4F,EAA2B,SAAUvF,GAE5BuF,SAAAA,EAAUxH,GACXC,IAAAA,EAAMD,EAAGC,IAAKC,EAAQF,EAAGE,MAAOC,EAAOH,EAAGG,KAAMsD,EAAczD,EAAGyD,YACjEgE,EAAQxF,EAAOyF,KAAK,KAAM,CAAEzH,IAAKA,EAAKC,MAAOA,EAAOC,KAAMA,KAAW,KAElEsH,OADPA,EAAMhE,YAAcA,EACbgE,EAsDJD,OA3DP5G,EAAU4G,EAAWvF,GAOrBuF,EAAUpH,UAAUuH,YAAc,SAAU3E,GACpCC,IAAAA,EAAY,IAAItB,EAAYhB,QAAQ,CAAEqC,SAAUA,IAChDK,EAAM,EACNE,EAAM,EACNqE,EAAS,EACT,KAAK1H,MAAQ,IACbmD,EAAMJ,EAAUK,gBAAgB,KAAKnD,KAAO,GAC5CoD,EAAMN,EAAUK,gBAAgB,KAAKnD,MACrCyH,EAAS,KAAK1H,MAAQ,IAGtBmD,EAAMJ,EAAUK,gBAAgB,KAAKnD,MACrCoD,EAAMN,EAAUK,gBAAgB,KAAKnD,KAAO,GAC5CyH,EAAS,KAAK1H,MAAQ,IAEtB2H,IAAAA,EAAerF,KAAKC,MAAM,IAAOY,EAAM,mBAAqB,cAC5DyE,EAAa,EACbC,EAAY,EACZxE,GAAAA,EAAMF,EAAM,IAAK,CAKb,IAHJ0E,GADAD,EAAa7E,EAAUU,mBAAmBN,IACjB,GACT,IACZ0E,GAAa,IACb,KAAKtE,aAAe,KAAKvD,OAAS6H,EAClC,OAAO,IAAIjE,EAAYnD,QAAQ,CAAEV,IAAK,EAAGC,MAAO,EAAGC,KAAM,KACzD,KAAKsD,aAAemE,GAAUE,KAC9BF,GAAU,GAEdzE,IAAAA,EAAaF,EAAUG,cAAcyE,EAAeD,GACjD9D,OAAAA,EAAYnD,QAAQyB,eAAee,EAAa,KAAKlD,IAAM,IAEtEuH,EAAUpH,UAAUwD,iBAAmB,SAAU5D,GACzCgD,IAAAA,EAAWhD,EAAGgD,SACdX,EAAa,KAAKsF,YAAY3E,GAAUJ,eACxCzC,EAAO,IAAIgH,EAAaX,WAAW,CACnCC,MAAO,KAAKtG,KAAO,GAAK,GACxBuG,QAAS,KAAKvG,KAAO,GAAK,KAE1BD,EAAQ,IAAIiH,EAAaX,WAAW,CACpCC,MAAmB,GAAZ,KAAKtG,KAAY,KAAKD,MAAQ,GAAK,GAC1CwG,QAAS,KAAKxG,MAAQ,GAAK,KAE3BD,EAAM,IAAIkH,EAAaX,WAAW,CAClCC,MAAOpE,EAAa,GAAK,GACzBqE,QAASrE,EAAa,GAAK,KAE3BgF,EAAY,IAAIF,EAAaX,WAAW,CACxCC,MAASpE,EAAa,GAAK,EAAK,EAAK,GACrCqE,OAAQ,IAEL,OAAA,IAAIS,EAAaC,eAAe,CAAEC,UAAWA,EAAWpH,IAAKA,EAAKC,MAAOA,EAAOC,KAAMA,KAE1FqH,EA5DoB,CA6D7B3F,EAAWlB,SACbd,QAAQc,QAAU6G;;ACpFlB,aACA,IAAIhG,EAAmB,MAAQ,KAAKA,iBAAoB,SAAUC,GACtDA,OAAAA,GAAOA,EAAIC,WAAcD,EAAM,CAAaA,QAAAA,IAExD9B,OAAOC,eAAeC,QAAS,aAAc,CAAEC,OAAO,IACtD,IAAIgC,EAAcN,EAAgBI,QAAQ,oBAC1C/B,QAAQ2H,UAAY1F,EAAYnB,QAChC,IAAIwG,EAAevF,QAAQ,oBAC3B/B,QAAQ2G,WAAaW,EAAaX,WAClC3G,QAAQuH,eAAiBD,EAAaC,eACtC,IAAItD,EAActC,EAAgBI,QAAQ,oBAC1C/B,QAAQmC,UAAY8B,EAAYnD","file":"index.bundle.js","sourceRoot":"../ts-dist","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar DateComparison;\n(function (DateComparison) {\n    DateComparison[DateComparison[\"Before\"] = -1] = \"Before\";\n    DateComparison[DateComparison[\"Equal\"] = 0] = \"Equal\";\n    DateComparison[DateComparison[\"After\"] = 1] = \"After\";\n})(DateComparison = exports.DateComparison || (exports.DateComparison = {}));\nvar BaseDate = /** @class */ (function () {\n    function BaseDate(_a) {\n        var day = _a.day, month = _a.month, year = _a.year;\n        this.day = day;\n        this.month = month;\n        this.year = year;\n    }\n    BaseDate.prototype.compareDate = function (_a) {\n        var day = _a.day, month = _a.month, year = _a.year;\n        if (this.year > year)\n            return DateComparison.After;\n        if (this.year < year)\n            return DateComparison.Before;\n        // Same years\n        if (this.month > month)\n            return DateComparison.After;\n        if (this.month < month)\n            return DateComparison.Before;\n        // Same months\n        if (this.day > day)\n            return DateComparison.After;\n        if (this.day < day)\n            return DateComparison.Before;\n        // Same day\n        return DateComparison.Equal;\n    };\n    BaseDate.prototype.isEqualDate = function (_a) {\n        var day = _a.day, month = _a.month, year = _a.year;\n        return this.compareDate({ day: day, month: month, year: year }) === DateComparison.Equal;\n    };\n    BaseDate.prototype.toArray = function () {\n        return [this.day, this.month, this.year];\n    };\n    return BaseDate;\n}());\nexports.default = BaseDate;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Astronomy_1 = __importDefault(require(\"./Astronomy\"));\nvar BaseDate_1 = __importDefault(require(\"./BaseDate\"));\nvar LunarDate_1 = __importDefault(require(\"./LunarDate\"));\nvar JULIAN_CALENDAR_EPOCH = 2299160; // Oct 14, 1582 AD\nvar SolarDate = /** @class */ (function (_super) {\n    __extends(SolarDate, _super);\n    function SolarDate() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Convert Julian days number into a SolarDate\n     * Formula at: https://www.tondering.dk/claus/cal/julperiod.php#formula\n     */\n    SolarDate.fromJulianDays = function (julianDays) {\n        var b = 0;\n        var c = 0;\n        if (julianDays > JULIAN_CALENDAR_EPOCH) {\n            // The day is in Gregorian Calendar\n            var a = julianDays + 32044;\n            b = Math.floor((4 * a + 3) / 146097);\n            c = a - Math.floor((b * 146097) / 4);\n        }\n        else {\n            // The day is in Julian Calendar\n            c = julianDays + 32082;\n        }\n        var d = Math.floor((4 * c + 3) / 1461);\n        var e = c - Math.floor((1461 * d) / 4);\n        var m = Math.floor((5 * e + 2) / 153);\n        var day = e - Math.floor((153 * m + 2) / 5) + 1;\n        var month = m + 3 - 12 * Math.floor(m / 10);\n        var year = b * 100 + d - 4800 + Math.floor(m / 10);\n        return new SolarDate({ day: day, month: month, year: year });\n    };\n    /**\n     * Calculate Julian days number of self\n     * i.e., the number of days between 01/01/4713 BC (Julian calendar) and dd/mm/yyyy.\n     * Formula at: https://www.tondering.dk/claus/cal/julperiod.php#formula\n     */\n    SolarDate.prototype.toJulianDays = function () {\n        var a = Math.floor((14 - this.month) / 12);\n        var y = this.year + 4800 - a;\n        var m = this.month + 12 * a - 3;\n        var cached = this.day + Math.floor((153 * m + 2) / 5) + 365 * y + Math.floor(y / 4);\n        var julianDays = cached - Math.floor(y / 100) + Math.floor(y / 400) - 32045;\n        // Date in Gregorian calendar\n        if (julianDays > JULIAN_CALENDAR_EPOCH)\n            return julianDays;\n        // Date in Julian calendar\n        return cached - 32083;\n    };\n    SolarDate.prototype.toLunarDate = function (_a) {\n        var timeZone = _a.timeZone;\n        var julianDays = this.toJulianDays();\n        var astronomy = new Astronomy_1.default({ timeZone: timeZone });\n        var newMoon = Math.floor((julianDays - 2415021.076998695) / 29.530588853);\n        var monthStart = astronomy.getNewMoonDay(newMoon + 1);\n        if (monthStart > julianDays)\n            monthStart = astronomy.getNewMoonDay(newMoon);\n        var a11 = astronomy.getLunarMonth11(this.year);\n        var b11 = a11;\n        var year = this.year;\n        if (a11 >= monthStart) {\n            a11 = astronomy.getLunarMonth11(this.year - 1);\n        }\n        else {\n            year = this.year + 1;\n            b11 = astronomy.getLunarMonth11(this.year + 1);\n        }\n        var day = julianDays - monthStart + 1;\n        var diff = Math.floor((monthStart - a11) / 29);\n        var isLeapMonth = false;\n        var month = diff + 11;\n        if (b11 - a11 > 365) {\n            var leapMonthDiff = astronomy.getLeapMonthOffset(a11);\n            if (diff >= leapMonthDiff) {\n                month = diff + 10;\n                if (diff == leapMonthDiff)\n                    isLeapMonth = true;\n            }\n        }\n        if (month > 12)\n            month = month - 12;\n        if (month >= 11 && diff < 4)\n            year -= 1;\n        return new LunarDate_1.default({ day: day, month: month, year: year, isLeapMonth: isLeapMonth });\n    };\n    SolarDate.prototype.toSexagenaryDate = function (_a) {\n        var timeZone = _a.timeZone;\n        var lunarDate = this.toLunarDate({ timeZone: timeZone });\n        return lunarDate.toSexagenaryDate({ timeZone: timeZone });\n    };\n    return SolarDate;\n}(BaseDate_1.default));\nexports.default = SolarDate;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar SolarDate_1 = __importDefault(require(\"./SolarDate\"));\nvar Astronomy = /** @class */ (function () {\n    function Astronomy(_a) {\n        var timeZone = _a.timeZone;\n        this.timeZone = timeZone;\n    }\n    /**\n     * Compute the Julian days value of new moon at the given order.\n     * Algorithm from: \"Astronomical Algorithms\" by Jean Meeus, 1998\n     */\n    Astronomy.prototype.getNewMoonDay = function (order) {\n        var T = order / 1236.85; // Time in Julian centuries from 1900 January 0.5\n        var T2 = T * T;\n        var T3 = T2 * T;\n        var radian = Math.PI / 180;\n        // Mean new moon days\n        var julianDays = 2415020.75933 +\n            29.53058868 * order +\n            0.0001178 * T2 -\n            0.000000155 * T3 +\n            0.00033 * Math.sin((166.56 + 132.87 * T - 0.009173 * T2) * radian);\n        // Sun's mean anomaly\n        var M = 359.2242 + 29.10535608 * order - 0.0000333 * T2 - 0.00000347 * T3;\n        // Moon's mean anomaly\n        var Mpr = 306.0253 + 385.81691806 * order + 0.0107306 * T2 + 0.00001236 * T3;\n        // Moon's argument of latitude\n        var F = 21.2964 + 390.67050646 * order - 0.0016528 * T2 - 0.00000239 * T3;\n        var C = (0.1734 - 0.000393 * T) * Math.sin(radian * M) +\n            0.0021 * Math.sin(radian * 2 * M) -\n            0.4068 * Math.sin(radian * Mpr) +\n            0.0161 * Math.sin(radian * 2 * Mpr) -\n            0.0004 * Math.sin(radian * 3 * Mpr) +\n            0.0104 * Math.sin(radian * 2 * F) -\n            0.0051 * Math.sin(radian * (M + Mpr)) -\n            0.0074 * Math.sin(radian * (M - Mpr)) +\n            0.0004 * Math.sin(radian * (2 * F + M)) -\n            0.0004 * Math.sin(radian * (2 * F - M)) -\n            0.0006 * Math.sin(radian * (2 * F + Mpr)) +\n            0.001 * Math.sin(radian * (2 * F - Mpr)) +\n            0.0005 * Math.sin(radian * (2 * Mpr + M));\n        var delta = T < -11\n            ? 0.001 + 0.000839 * T + 0.0002261 * T2 - 0.00000845 * T3 - 0.000000081 * T * T3\n            : -0.000278 + 0.000265 * T + 0.000262 * T2;\n        return Math.floor(julianDays + C - delta + 0.5 + this.timeZone / 24);\n    };\n    /**\n     * Compute sun position at midnight of the day with the given Julian day number.\n     * The function returns a number between 0 and 11.\n     * From the day after March equinox and the 1st major term after March equinox, 0 is returned.\n     * After that, return 1, 2, 3 ...\n     */\n    Astronomy.prototype.getSunLongitude = function (dayNumber) {\n        // Time in Julian centuries from 2000-01-01 12:00:00 GMT\n        var T = (dayNumber - 0.5 - this.timeZone / 24 - 2451545.0) / 36525;\n        var T2 = T * T;\n        var radian = Math.PI / 180;\n        // Mean anomaly in degree\n        var M = 357.5291 + 35999.0503 * T - 0.0001559 * T2 - 0.00000048 * T * T2;\n        // Mean longitude, degree\n        var L0 = 280.46645 + 36000.76983 * T + 0.0003032 * T2;\n        var DL = (1.9146 - 0.004817 * T - 0.000014 * T2) * Math.sin(radian * M) +\n            (0.019993 - 0.000101 * T) * Math.sin(radian * 2 * M) +\n            0.00029 * Math.sin(radian * 3 * M);\n        // True longitude in degree\n        var L1 = (L0 + DL) * radian;\n        // Normalize to (0, 2*PI)\n        var L = L1 - Math.PI * 2 * Math.floor(L1 / (Math.PI * 2));\n        return Math.floor((L / Math.PI) * 6);\n    };\n    /**\n     * Find the day that starts the luner month 11 of the given year for the given time zone\n     */\n    Astronomy.prototype.getLunarMonth11 = function (year) {\n        var solarDate = new SolarDate_1.default({ day: 31, month: 12, year: year });\n        var off = solarDate.toJulianDays() - 2415021.076998695;\n        var order = Math.floor(off / 29.530588853);\n        var newMoonDay = this.getNewMoonDay(order);\n        var sunLong = this.getSunLongitude(newMoonDay);\n        if (sunLong >= 9)\n            return this.getNewMoonDay(order - 1);\n        return newMoonDay;\n    };\n    /**\n     * Find the index of the leap month after the month starting on the day of 11th lunar month.\n     */\n    Astronomy.prototype.getLeapMonthOffset = function (lunarMonth11) {\n        var order = Math.floor((lunarMonth11 - 2415021.076998695) / 29.530588853 + 0.5);\n        // We start with the month following lunar month 11\n        var last = 0;\n        var counter = 1;\n        var arc = 0;\n        do {\n            last = arc;\n            counter += 1;\n            arc = this.getSunLongitude(this.getNewMoonDay(order + counter));\n        } while (arc != last && counter < 14);\n        return counter - 1;\n    };\n    return Astronomy;\n}());\nexports.default = Astronomy;\n","module.exports={default:{delimiter:\"-\",stems:[\"jia\",\"yi\",\"bing\",\"ding\",\"wu\",\"ji\",\"geng\",\"xin\",\"ren\",\"gui\"],branches:[\"rat\",\"ox\",\"tiger\",\"rabbit\",\"dragon\",\"snake\",\"horse\",\"goat\",\"monkey\",\"rooster\",\"dog\",\"pig\"]},ko:{delimiter:\"\",stems:[\"갑\",\"을\",\"병\",\"정\",\"무\",\"기\",\"경\",\"신\",\"임\",\"계\"],branches:[\"자\",\"축\",\"인\",\"묘\",\"진\",\"사\",\"오\",\"미\",\"신\",\"유\",\"술\",\"해\"]},vi:{delimiter:\" \",stems:[\"Giáp\",\"Ất\",\"Bính\",\"Đinh\",\"Mậu\",\"Kỷ\",\"Canh\",\"Tân\",\"Nhâm\",\"Quý\"],branches:[\"Tý\",\"Sửu\",\"Dần\",\"Mão\",\"Thìn\",\"Tỵ\",\"Ngọ\",\"Mùi\",\"Thân\",\"Dậu\",\"Tuất\",\"Hợi\"]},zh:{delimiter:\"\",stems:[\"甲\",\"乙\",\"丙\",\"丁\",\"戊\",\"己\",\"庚\",\"辛\",\"壬\",\"癸\"],branches:[\"子\",\"丑\",\"寅\",\"卯\",\"辰\",\"巳\",\"午\",\"未\",\"申\",\"酉\",\"戌\",\"亥\"]}};","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar locales_json_1 = __importDefault(require(\"./locales.json\"));\nvar Stem;\n(function (Stem) {\n    Stem[Stem[\"Jia\"] = 0] = \"Jia\";\n    Stem[Stem[\"Yi\"] = 1] = \"Yi\";\n    Stem[Stem[\"Bing\"] = 2] = \"Bing\";\n    Stem[Stem[\"Ding\"] = 3] = \"Ding\";\n    Stem[Stem[\"Wu\"] = 4] = \"Wu\";\n    Stem[Stem[\"Ji\"] = 5] = \"Ji\";\n    Stem[Stem[\"Geng\"] = 6] = \"Geng\";\n    Stem[Stem[\"Xin\"] = 7] = \"Xin\";\n    Stem[Stem[\"Ren\"] = 8] = \"Ren\";\n    Stem[Stem[\"Gui\"] = 9] = \"Gui\";\n})(Stem = exports.Stem || (exports.Stem = {}));\nvar Branch;\n(function (Branch) {\n    Branch[Branch[\"Rat\"] = 0] = \"Rat\";\n    Branch[Branch[\"Ox\"] = 1] = \"Ox\";\n    Branch[Branch[\"Tiger\"] = 2] = \"Tiger\";\n    Branch[Branch[\"Rabbit\"] = 3] = \"Rabbit\";\n    Branch[Branch[\"Dragon\"] = 4] = \"Dragon\";\n    Branch[Branch[\"Snake\"] = 5] = \"Snake\";\n    Branch[Branch[\"Horse\"] = 6] = \"Horse\";\n    Branch[Branch[\"Goat\"] = 7] = \"Goat\";\n    Branch[Branch[\"Monkey\"] = 8] = \"Monkey\";\n    Branch[Branch[\"Rooster\"] = 9] = \"Rooster\";\n    Branch[Branch[\"Dog\"] = 10] = \"Dog\";\n    Branch[Branch[\"Pig\"] = 11] = \"Pig\";\n})(Branch = exports.Branch || (exports.Branch = {}));\nvar Locales;\n(function (Locales) {\n    Locales[\"Default\"] = \"default\";\n    Locales[\"Ko\"] = \"ko\";\n    Locales[\"Vi\"] = \"vi\";\n    Locales[\"Zh\"] = \"zh\";\n})(Locales = exports.Locales || (exports.Locales = {}));\n/**\n * Calculate the absolute modulo value of two numbers.\n * Noted that dividend could be negative, but the results will always be non-negative\n *\n * @param {number} dividend\n * @param {number} divisor\n * @returns {number}\n */\nvar absModulo = function (dividend, divisor) {\n    var modulo = dividend % divisor;\n    if (modulo >= 0)\n        return Math.abs(modulo);\n    return modulo + divisor;\n};\nvar Sexagenary = /** @class */ (function () {\n    function Sexagenary(_a) {\n        var stem = _a.stem, branch = _a.branch;\n        this.stem = stem;\n        this.branch = branch;\n    }\n    Sexagenary.prototype.add = function (diff) {\n        var stem = absModulo(this.stem + diff, 10);\n        var branch = absModulo(this.branch + diff, 12);\n        return new Sexagenary({ stem: stem, branch: branch });\n    };\n    Sexagenary.prototype.toString = function (locale) {\n        if (locale === void 0) { locale = Locales.Default; }\n        var _a = locales_json_1.default[locale] || {}, _b = _a.delimiter, delimiter = _b === void 0 ? '' : _b, _c = _a.stems, stems = _c === void 0 ? null : _c, _d = _a.branches, branches = _d === void 0 ? null : _d;\n        if (stems == null || branches == null)\n            return '';\n        var stem = stems[this.stem];\n        var branch = branches[this.branch];\n        return [stem, branch].join(delimiter);\n    };\n    return Sexagenary;\n}());\nexports.default = Sexagenary;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Sexagenary_1 = require(\"./Sexagenary\");\nvar SexagenaryDate = /** @class */ (function () {\n    function SexagenaryDate(_a) {\n        var startHour = _a.startHour, day = _a.day, month = _a.month, year = _a.year;\n        this.startHour = startHour;\n        this.day = day;\n        this.month = month;\n        this.year = year;\n    }\n    SexagenaryDate.prototype.toStringsObject = function (locale) {\n        if (locale === void 0) { locale = Sexagenary_1.Locales.Default; }\n        return {\n            startHour: this.startHour.toString(locale),\n            day: this.day.toString(locale),\n            month: this.month.toString(locale),\n            year: this.year.toString(locale),\n        };\n    };\n    return SexagenaryDate;\n}());\nexports.default = SexagenaryDate;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Sexagenary_1 = require(\"./Sexagenary\");\nexports.Sexagenary = Sexagenary_1.default;\nexports.Locales = Sexagenary_1.Locales;\nvar SexagenaryDate_1 = require(\"./SexagenaryDate\");\nexports.SexagenaryDate = SexagenaryDate_1.default;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Astronomy_1 = __importDefault(require(\"./Astronomy\"));\nvar BaseDate_1 = __importDefault(require(\"./BaseDate\"));\nvar SolarDate_1 = __importDefault(require(\"./SolarDate\"));\nvar Sexagenary_1 = require(\"./Sexagenary\");\nvar LunarDate = /** @class */ (function (_super) {\n    __extends(LunarDate, _super);\n    function LunarDate(_a) {\n        var day = _a.day, month = _a.month, year = _a.year, isLeapMonth = _a.isLeapMonth;\n        var _this = _super.call(this, { day: day, month: month, year: year }) || this;\n        _this.isLeapMonth = isLeapMonth;\n        return _this;\n    }\n    LunarDate.prototype.toSolarDate = function (timeZone) {\n        var astronomy = new Astronomy_1.default({ timeZone: timeZone });\n        var a11 = 0;\n        var b11 = 0;\n        var offset = 0;\n        if (this.month < 11) {\n            a11 = astronomy.getLunarMonth11(this.year - 1);\n            b11 = astronomy.getLunarMonth11(this.year);\n            offset = this.month + 1;\n        }\n        else {\n            a11 = astronomy.getLunarMonth11(this.year);\n            b11 = astronomy.getLunarMonth11(this.year + 1);\n            offset = this.month - 11;\n        }\n        var newMoonOrder = Math.floor(0.5 + (a11 - 2415021.076998695) / 29.530588853);\n        var leapOffset = 0;\n        var leapMonth = 0;\n        if (b11 - a11 > 365) {\n            leapOffset = astronomy.getLeapMonthOffset(a11);\n            leapMonth = leapOffset - 2;\n            if (leapMonth < 0)\n                leapMonth += 12;\n            if (this.isLeapMonth && this.month != leapMonth)\n                return new SolarDate_1.default({ day: 0, month: 0, year: 0 });\n            if (this.isLeapMonth || offset >= leapOffset)\n                offset += 1;\n        }\n        var monthStart = astronomy.getNewMoonDay(newMoonOrder + offset);\n        return SolarDate_1.default.fromJulianDays(monthStart + this.day - 1);\n    };\n    LunarDate.prototype.toSexagenaryDate = function (_a) {\n        var timeZone = _a.timeZone;\n        var julianDays = this.toSolarDate(timeZone).toJulianDays();\n        var year = new Sexagenary_1.Sexagenary({\n            stem: (this.year + 6) % 10,\n            branch: (this.year + 8) % 12,\n        });\n        var month = new Sexagenary_1.Sexagenary({\n            stem: (this.year * 12 + this.month + 3) % 10,\n            branch: (this.month + 1) % 12,\n        });\n        var day = new Sexagenary_1.Sexagenary({\n            stem: (julianDays + 9) % 10,\n            branch: (julianDays + 1) % 12,\n        });\n        var startHour = new Sexagenary_1.Sexagenary({\n            stem: (((julianDays + 9) % 5) * 2) % 10,\n            branch: 0,\n        });\n        return new Sexagenary_1.SexagenaryDate({ startHour: startHour, day: day, month: month, year: year });\n    };\n    return LunarDate;\n}(BaseDate_1.default));\nexports.default = LunarDate;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar LunarDate_1 = __importDefault(require(\"./src/LunarDate\"));\nexports.LunarDate = LunarDate_1.default;\nvar Sexagenary_1 = require(\"./src/Sexagenary\");\nexports.Sexagenary = Sexagenary_1.Sexagenary;\nexports.SexagenaryDate = Sexagenary_1.SexagenaryDate;\nvar SolarDate_1 = __importDefault(require(\"./src/SolarDate\"));\nexports.SolarDate = SolarDate_1.default;\n"]}